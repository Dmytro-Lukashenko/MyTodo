import"../index.html";import"../css/styles.css";var error=document.querySelector(".helper-text"),form=document.querySelector("#task-form"),taskInput=document.querySelector("#task"),filter=document.querySelector("#filter"),clearBtn=document.querySelector(".clear-tasks"),taskList=document.querySelector(".collection");function loadAllEventListeners(){form.addEventListener("submit",addTask),document.addEventListener("DOMContentLoaded",getTasks),taskList.addEventListener("click",removeTask),clearBtn.addEventListener("click",clearTasks),filter.addEventListener("keyup",filterTasks)}function showError(){var e=this;error.classList.remove("white-text"),error.classList.add("red-text"),setTimeout((function(){e.clearError()}),2e3)}function clearError(){error.classList.remove("red-text"),error.classList.add("white-text")}function addTask(e){if(""===taskInput.value)showError();else{clearError();var t=document.createElement("li");t.className="collection-item",t.appendChild(document.createTextNode(taskInput.value));var a=document.createElement("a");a.className="delete-item secondary-content",a.innerHTML='<i class="fa fa-remove"></i>',t.appendChild(a),taskList.appendChild(t),storeTaskInLocalStorage(taskInput.value),clearBtn.classList.remove("disabled"),taskInput.value=""}e.preventDefault()}function storeTaskInLocalStorage(e){var t;(t=null===localStorage.getItem("tasks")?[]:JSON.parse(localStorage.getItem("tasks"))).push(e),localStorage.setItem("tasks",JSON.stringify(t))}function removeTaskFromLocalStorage(e){var t;(t=null===localStorage.getItem("tasks")?[]:JSON.parse(localStorage.getItem("tasks"))).forEach((function(a,r){e.textContent===a&&t.splice(r,1)})),localStorage.setItem("tasks",JSON.stringify(t))}function clearTextFromLocalStorage(){localStorage.clear()}function getTasks(){(null===localStorage.getItem("tasks")?[]:JSON.parse(localStorage.getItem("tasks"))).forEach((function(e){var t=document.createElement("li");t.className="collection-item",t.appendChild(document.createTextNode(e));var a=document.createElement("a");a.className="delete-item secondary-content",a.innerHTML='<i class="fa fa-remove"></i>',t.appendChild(a),taskList.appendChild(t)}))}function removeTask(e){e.target.parentElement.classList.contains("delete-item")&&(e.target.parentElement.parentElement.remove(),removeTaskFromLocalStorage(e.target.parentElement.parentElement)),taskList.hasChildNodes()||clearBtn.classList.add("disabled")}function clearTasks(){for(;taskList.firstChild;)taskList.removeChild(taskList.firstChild);clearTextFromLocalStorage(),clearBtn.classList.add("disabled")}function filterTasks(e){var t=e.target.value.toLowerCase();document.querySelectorAll(".collection-item").forEach((function(e){-1!==e.firstChild.textContent.toLowerCase().indexOf(t)?e.style.display="block":e.style.display="none"}))}loadAllEventListeners();